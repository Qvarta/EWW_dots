; ---------------------------------------------------------------------------
;                             CALENDAR WINDOW
; ---------------------------------------------------------------------------
(defwindow calendar
  :stacking "fg"
  :monitor "0"
  :namespace "calendar"
  :geometry (geometry :width "250px" :height "150px" :anchor "top left")
  (calendar_widget)
)
; ---------------------------------------------------------------------------
;                          CALENDAR MAIN WIDGET
; ---------------------------------------------------------------------------
(defpoll day :initial "1" :interval "1h" "date '+%d'")
(defpoll year :initial "2000" :interval "24h" "date '+%Y'")
;---------------------------------------------------------------------------
(defwidget calendar_widget []
  (eventbox
    :onhoverlost "${EWW_CMD} close calendar"
    :width 400
    (box
      :class "main_container"
      :style "background-color:transparent;border-color:transparent;"
      :orientation "v"
      :spacing 10
      :space-evenly false
      (month_widget)
    )
  )
)
  ; ---------------------------------------------------------------------------
  ;                             CALENDAR WIDGETS
  ; ---------------------------------------------------------------------------

(defwidget month_widget[]
  (box
    :orientation "v"
    :space-evenly false
    :vexpand true
    :valign "center"
    :class "block"
    (calendar :day day :year year)
  )
)
